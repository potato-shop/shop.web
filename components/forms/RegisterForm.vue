<template>
  <Form :validation-schema="schema" @submit="onSubmit">
    <div class="mb-20">
      <label for="name">å§“å <span>**</span></label>
      <Field name="name" id="name" type="text" placeholder="è¼¸å…¥å§“å..." />
      <ErrorMessage name="name" class="text-danger" />
    </div>

    <div class="mb-20">
      <label for="email-id">ä¿¡ç®± <span>**</span></label>
      <Field name="email" id="email-id" type="text" placeholder="è¼¸å…¥ä¿¡ç®±..." />
      <ErrorMessage name="email" class="text-danger" />
    </div>

    <div class="mb-20">
      <label for="pass">å¯†ç¢¼ <span>**</span></label>
      <Field name="password" id="pass" type="password" placeholder="è¼¸å…¥å¯†ç¢¼..." />
      <ErrorMessage name="password" class="text-danger" />
    </div>

    <div class="mt-10"></div>
    <button type="submit" class="os-btn w-100">Register Now</button>
    <div class="or-divide"><span>or</span></div>
    <nuxt-link href="/login" class="os-btn os-btn-black w-100">login Now</nuxt-link>
  </Form>
</template>

<script setup lang="ts">
import { Field, Form, ErrorMessage } from 'vee-validate';
import * as yup from 'yup';

const schema = yup.object({
  name: yup.string().required('è«‹è¼¸å…¥å§“å').label('Name'),
  email: yup.string().required('è«‹è¼¸å…¥ä¿¡ç®±').email().label('Email'),
  password: yup.string().required('è«‹è¼¸å…¥å¯†ç¢¼').min(6).label('Password'),
});

function onSubmit(values: object, { resetForm }: { resetForm: () => void }) {
  console.log('ğŸš€ ~ onSubmit ~ values:', values);
  alert(JSON.stringify(values, null, 2));
  resetForm();
}
</script>
